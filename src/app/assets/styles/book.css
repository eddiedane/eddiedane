@tailwind components;

@layer components {
  .book {
    @apply relative;
  }

  .book-cover {
    transform-origin: 0 50%;
    @apply relative rounded-sm transition-all duration-500 ease-in-out;
  }

  .book:hover .book-cover {
    transform: perspective(2000px) rotateY(-30deg);
    transform-style: preserve-3d;
  }

  .book img {
    @apply rounded-sm;
  }

  .book-effect {
    border-left: 2px solid #00000010;
    background-image: linear-gradient(90deg, rgba(255,255,255,0.2) 0%, rgba(255,255,255,0) 100%);
    @apply absolute top-0 bottom-0 left-0 w-5 ml-2 transition-all duration-500 ease-out;
  }

  .book:hover .book-effect {
    @apply w-10;
    /** margin-left:13px;
    opacity: 0.5; **/
  }

  .book-light {
    background-image: linear-gradient(90deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.2) 100%);
    @apply absolute top-0 bottom-0 right-0 w-11/12 rounded-sm opacity-10 transition-all duration-500 ease-out;
  }

  .book:hover .book-light {
    @apply opacity-100;
    /* width: 70%; */
  }

  .book-shadow {
    box-shadow: 
      inset 4px 1px 3px #ffffff60,
      inset 0 -1px 2px #00000080;
    @apply absolute inset-0 transition-all duration-500 ease-in-out rounded-sm;
  }

  .book:hover .book-shadow {
    box-shadow:
      inset 4px 1px 3px #ffffff60,
      inset 0 -1px 2px #00000080,
      10px 0px 10px -5px #00000030;
  }

  .book-inside {
    width: calc(100% - 2px);
    height: 98%;
    z-index: -1;
    @apply absolute top-1/2 rounded-sm bg-white -translate-y-1/2 border border-gray-500;
  }

  @media (prefers-color-scheme: dark) {
    .book-inside {
      box-shadow: 
        0px 22px 22px -10px #ffffff40,
        inset -2px 0 0 grey,
        inset -3px 0 0 #dbdbdb,
        inset -4px 0 0 white,
        inset -5px 0 0 #dbdbdb,
        inset -6px 0 0 white,
        inset -7px 0 0 #dbdbdb,
        inset -8px 0 0 white,
        inset -9px 0 0 #dbdbdb;
    }
  }

  @media (prefers-color-scheme: light) {
    .book-inside {
      box-shadow: 
        0px 20px 15px -10px #00000040,
        inset -2px 0 0 grey,
        inset -3px 0 0 #dbdbdb,
        inset -4px 0 0 white,
        inset -5px 0 0 #dbdbdb,
        inset -6px 0 0 white,
        inset -7px 0 0 #dbdbdb,
        inset -8px 0 0 white,
        inset -9px 0 0 #dbdbdb;
    }
  }
}
